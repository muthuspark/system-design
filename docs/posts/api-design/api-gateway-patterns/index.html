<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>API Gateway Patterns – System Design Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-5c1aa57916d092647891b8a3fe59897e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="mermaid-theme" content="neutral">
<script src="../../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


<link rel="stylesheet" href="../../../styles.css">
<meta property="og:title" content="API Gateway Patterns – System Design Notes">
<meta property="og:description" content="">
<meta property="og:site_name" content="System Design Notes">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">System Design Notes</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/muthuspark"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/krimuthu"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">API Gateway Patterns</h1>
  <div class="quarto-categories">
    <div class="quarto-category">API Design</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>API Gateways have become indispensable components of modern microservices architectures. They act as a central point of entry for all client requests, abstracting the complexities of the backend services and providing crucial functionalities like authentication, authorization, rate limiting, and request transformation. However, the optimal design of an API Gateway isn’t one-size-fits-all. Choosing the right pattern depends on the specific needs of your application and its anticipated scale. This post explores several common API Gateway patterns, illustrating their strengths and weaknesses with diagrams and code snippets.</p>
<section id="the-simple-gateway-pattern" class="level2">
<h2 data-anchor-id="the-simple-gateway-pattern">1. The Simple Gateway Pattern</h2>
<p>This is the most basic pattern. A single gateway handles all requests and routes them to the appropriate backend services. It’s ideal for simpler applications with a small number of microservices.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>Simple to implement and manage.</li>
<li>Low latency due to minimal processing overhead.</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li>Becomes a bottleneck as the number of microservices and requests increase.</li>
<li>Single point of failure.</li>
<li>Difficult to scale independently from backend services.</li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph LR
    Client --&gt; Gateway;
    Gateway --&gt; ServiceA;
    Gateway --&gt; ServiceB;
    Gateway --&gt; ServiceC;
    subgraph Backend Services
        ServiceA
        ServiceB
        ServiceC
    end
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="the-edge-gateway-pattern-reverse-proxy" class="level2">
<h2 data-anchor-id="the-edge-gateway-pattern-reverse-proxy">2. The Edge Gateway Pattern (Reverse Proxy)</h2>
<p>This pattern employs a reverse proxy in front of the API Gateway. The reverse proxy handles tasks like SSL termination, load balancing, and caching, offloading some of the workload from the API Gateway itself.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>Improved performance and scalability.</li>
<li>Enhanced security through SSL termination at the edge.</li>
<li>Reduces the load on the API Gateway.</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li>Increased complexity due to the added component.</li>
<li>Requires careful configuration and management of both the reverse proxy and the API Gateway.</li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph LR
    Client --&gt; ReverseProxy;
    ReverseProxy --&gt; Gateway;
    Gateway --&gt; ServiceA;
    Gateway --&gt; ServiceB;
    Gateway --&gt; ServiceC;
    subgraph Backend Services
        ServiceA
        ServiceB
        ServiceC
    end
    subgraph Edge Layer
        ReverseProxy
    end
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="the-request-routing-gateway-pattern" class="level2">
<h2 data-anchor-id="the-request-routing-gateway-pattern">3. The Request Routing Gateway Pattern</h2>
<p>This pattern focuses on sophisticated routing logic. The API Gateway can dynamically route requests based on various factors, such as headers, query parameters, or even the content of the request body. This allows for flexible and context-aware routing.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>Highly flexible routing capabilities.</li>
<li>Enables A/B testing and canary deployments.</li>
<li>Can be used to implement feature flags.</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li>Can become complex to manage if routing rules become intricate.</li>
<li>Requires a robust routing engine within the API Gateway.</li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph LR
    Client --&gt; Gateway;
    Gateway -- Header X: Value Y --&gt; ServiceA;
    Gateway -- Header X: Value Z --&gt; ServiceB;
    subgraph Backend Services
        ServiceA
        ServiceB
    end

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p><strong>Example (Conceptual - Python):</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> route_request(request):</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    header_value <span class="op">=</span> request.headers.get(<span class="st">'X-Routing-Header'</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> header_value <span class="op">==</span> <span class="st">'ValueA'</span>:</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> route_to_service_a(request)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> header_value <span class="op">==</span> <span class="st">'ValueB'</span>:</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> route_to_service_b(request)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> handle_default_route(request)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
</section>
<section id="the-aggregate-gateway-pattern" class="level2">
<h2 data-anchor-id="the-aggregate-gateway-pattern">4. The Aggregate Gateway Pattern</h2>
<p>This pattern aggregates data from multiple backend services into a single response. This simplifies the client’s interaction by reducing the number of requests required.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>Reduced network latency for clients.</li>
<li>Improved client-side performance.</li>
<li>Simplifies client-side code.</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li>Increased complexity within the API Gateway.</li>
<li>The API Gateway becomes tightly coupled to the backend services.</li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph LR
    Client --&gt; Gateway;
    Gateway --&gt; ServiceA;
    Gateway --&gt; ServiceB;
    Gateway --&gt; ServiceC;
    Gateway --&gt; Client;
    subgraph Backend Services
        ServiceA
        ServiceB
        ServiceC
    end
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="the-authenticating-gateway-pattern" class="level2">
<h2 data-anchor-id="the-authenticating-gateway-pattern">5. The Authenticating Gateway Pattern</h2>
<p>Security is paramount. This pattern focuses on centralizing authentication and authorization logic within the API Gateway. This protects backend services from unauthorized access.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>Enhanced security.</li>
<li>Single point for authentication and authorization management.</li>
<li>Easier to implement and manage security policies.</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li>The API Gateway becomes a potential single point of failure for security.</li>
<li>Requires robust security mechanisms within the gateway.</li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph LR
    Client --&gt; Gateway;
    Gateway -- Authenticated --&gt; ServiceA;
    Gateway -- Unauthorized --&gt; Client;
    subgraph Backend Services
        ServiceA
    end
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>“Copyright 2025, Muthukrishnan”</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>