<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>index – System Design Notes</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K8N81FG076"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-K8N81FG076', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="../../../favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="../../../favicon-32x32.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../apple-touch-icon.png">
<meta property="og:title" content="System Design Notes">
<meta property="og:site_name" content="System Design Notes">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../../" aria-label="Home">
                    <span>System Design Notes - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../../styles.css">








<p>API caching is an important technique for optimizing the performance and scalability of applications that heavily rely on external APIs. By storing API responses, latency can be reduced, server load can be minimized, and associated costs can be lowered. This article will look at the complexities of API caching, including different strategies, implementation techniques, and best practices.</p>
<h2 id="understanding-the-need-for-api-caching">Understanding the Need for API Caching</h2>
<p>Consider an application that frequently fetches data from a slow or expensive third-party API. Each time a user requests this data, the application makes a fresh API call, leading to many issues:</p>
<ul>
<li><strong>Increased Latency:</strong> Network requests and API processing times introduce delays, resulting in a poor user experience.</li>
<li><strong>Server Overload:</strong> Frequent API calls can overwhelm your servers, potentially leading to crashes or performance degradation.</li>
<li><strong>Increased Costs:</strong> Many APIs charge based on the number of requests. Frequent calls directly translate into higher costs.</li>
</ul>
<pre class="mermaid"><code>graph LR
    A[User Request] --&gt; B(Application);
    B --&gt; C{API Call};
    C -- Success --&gt; D(API Response);
    D --&gt; B;
    B --&gt; E[User Response];
    subgraph Slow and Expensive
        C;
    end</code></pre>
<p>This diagram illustrates the traditional approach without caching. The user request triggers an API call, resulting in a potentially slow and expensive process. Caching aims to alleviate these issues.</p>
<h2 id="types-of-api-caching">Types of API Caching</h2>
<p>Several caching strategies exist, each with its strengths and weaknesses:</p>
<p><strong>1. Client-Side Caching:</strong> The cache resides within the user’s browser or application. This reduces the number of API calls, but the cached data might become stale.</p>
<p><strong>2. Server-Side Caching:</strong> The cache resides on your application’s server. This offers more control and allows for complex caching strategies.</p>
<p><strong>3. CDN (Content Delivery Network) Caching:</strong> A CDN acts as a distributed cache, serving static content closer to users. This minimizes latency and improves performance for geographically dispersed users.</p>
<pre class="mermaid"><code>graph LR
    A[User Request] --&gt; B(Client-Side Cache);
    B -- Cache Hit --&gt; E[User Response];
    B -- Cache Miss --&gt; C(Application);
    C --&gt; D{API Call};
    D -- Success --&gt; C;
    C --&gt; B;
    C --&gt; E;</code></pre>
<p>This diagram shows a simple client-side caching scenario. If the data is found in the cache (cache hit), it is served directly; otherwise (cache miss), a fresh API call is made.</p>
<h2 id="implementing-server-side-caching">Implementing Server-Side Caching</h2>
<p>Server-side caching is a powerful technique offering granular control. Popular caching mechanisms include:</p>
<ul>
<li><strong>Memory Caching (e.g., Redis, Memcached):</strong> Fast in-memory caches offer excellent performance but data is lost on server restart.</li>
<li><strong>Disk Caching (e.g., local file system, database):</strong> More persistent than memory caching, but slower.</li>
<li><strong>Dedicated Caching Services (e.g., Amazon ElastiCache, Redis Enterprise Cloud):</strong> Managed services that simplify caching management and scalability.</li>
</ul>
<p>Consider a simple example using Python and Redis:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> redis</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> redis.Redis(host<span class="op">=</span><span class="st">'localhost'</span>, port<span class="op">=</span><span class="dv">6379</span>, db<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_data_from_api(url):</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Simulate an API call (replace with actual API call)</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#...</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> {<span class="st">"data"</span>: <span class="st">"from API"</span>}</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cached_api_call(url, cache_key):</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    cached_data <span class="op">=</span> r.get(cache_key)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> cached_data:</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> cached_data.decode(<span class="st">'utf-8'</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        data <span class="op">=</span> get_data_from_api(url)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        r.<span class="bu">set</span>(cache_key, data)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> data</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://example.com/api/data"</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>cache_key <span class="op">=</span> <span class="st">"example_api_data"</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> cached_api_call(url, cache_key)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data)</span></code></pre></div>
<p>This code snippet demonstrates a basic caching strategy using Redis. The <code>cached_api_call</code> function first checks for cached data; if not found, it fetches data from the API, stores it in the cache, and returns it.</p>
<h2 id="cache-invalidation-strategies">Cache Invalidation Strategies</h2>
<p>Data changes over time. Strategies for removing stale data from the cache are important:</p>
<ul>
<li><strong>Time-Based Expiry:</strong> Setting an expiration time for cached data.</li>
<li><strong>Cache-Aside Pattern:</strong> The application always checks the cache first, and if the data is missing or stale, it updates the cache.</li>
<li><strong>Write-Through Caching:</strong> Data is written to both the cache and the source simultaneously.</li>
<li><strong>Write-Back Caching:</strong> Data is written to the cache first, and asynchronously to the source.</li>
</ul>
<h2 id="best-practices-for-api-caching">Best Practices for API Caching</h2>
<ul>
<li><p><strong>Choose the Right Caching Strategy:</strong> Consider the characteristics of your API and application requirements.</p></li>
<li><p><strong>Effective Cache Keys:</strong> Design clear and unambiguous cache keys to avoid collisions.</p></li>
<li><p><strong>Cache Invalidation Strategy:</strong> Implement an invalidation strategy to prevent stale data.</p></li>
<li><p><strong>Monitor Cache Performance:</strong> Track cache hits, misses, and eviction rates to optimize performance.</p></li>
<li><p><strong>Handle Errors Gracefully:</strong> Implement error handling for cache failures and API errors.</p></li>
</ul>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>