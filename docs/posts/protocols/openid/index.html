<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>OpenID Connect (OIDC) – System Design Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-5c1aa57916d092647891b8a3fe59897e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta property="og:title" content="OpenID Connect (OIDC) – System Design Notes">
<meta property="og:description" content="">
<meta property="og:site_name" content="System Design Notes">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">System Design Notes</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/muthuspark"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/krimuthu"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">OpenID Connect (OIDC)</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Protocols</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>OpenID Connect (OIDC) is an identity layer built on top of the OAuth 2.0 protocol. It enables clients to verify the identity of users based on the authentication performed by an authorization server and to obtain basic profile information about the user in an interoperable and REST-like manner. OIDC is widely used for Single Sign-On (SSO) and user authentication in modern web and mobile applications.</p>
<p>In this blog post, we will explore the OpenID Connect protocol in detail, including its components, workflows, and key concepts. We will also use <strong>Mermaid diagrams</strong> to visualize the different aspects of OIDC.</p>
<hr>
<section id="table-of-contents" class="level2">
<h2 data-anchor-id="table-of-contents">Table of Contents</h2>
<ol type="1">
<li><strong>What is OpenID Connect?</strong></li>
<li><strong>How OIDC Extends OAuth 2.0</strong></li>
<li><strong>Key Components of OIDC</strong></li>
<li><strong>OIDC Workflow</strong></li>
<li><strong>ID Tokens and UserInfo Endpoint</strong></li>
<li><strong>OIDC Flows</strong>
<ul>
<li>Authorization Code Flow</li>
<li>Implicit Flow</li>
<li>Hybrid Flow</li>
</ul></li>
<li><strong>OIDC Security Best Practices</strong></li>
<li><strong>Conclusion</strong></li>
</ol>
<hr>
</section>
<section id="what-is-openid-connect" class="level2">
<h2 data-anchor-id="what-is-openid-connect">1. What is OpenID Connect?</h2>
<p>OpenID Connect (OIDC) is an authentication protocol that allows applications to verify the identity of users based on the authentication performed by an authorization server. It extends OAuth 2.0 by introducing an <strong>ID Token</strong>, which is a JSON Web Token (JWT) that contains information about the authenticated user.</p>
<p>OIDC is widely used for: - <strong>Single Sign-On (SSO)</strong>: Users can log in once and access multiple applications. - <strong>User Authentication</strong>: Applications can verify the identity of users. - <strong>Profile Information</strong>: Applications can retrieve basic user profile information.</p>
<hr>
</section>
<section id="how-oidc-extends-oauth-2.0" class="level2">
<h2 data-anchor-id="how-oidc-extends-oauth-2.0">2. How OIDC Extends OAuth 2.0</h2>
<p>OAuth 2.0 is primarily an <strong>authorization</strong> protocol, while OIDC adds an <strong>authentication</strong> layer on top of it. Here’s how OIDC extends OAuth 2.0: - Introduces the <strong>ID Token</strong> for user authentication. - Adds the <strong>UserInfo endpoint</strong> to retrieve user profile information. - Standardizes the authentication process.</p>
<pre class="mermaid"><code>graph TD
    A[OAuth 2.0] --&gt;|Authorization| B[Access Tokens]
    A --&gt;|Extended by| C[OpenID Connect]
    C --&gt;|Authentication| D[ID Tokens]
    C --&gt;|User Profile| E[UserInfo Endpoint]</code></pre>
<hr>
</section>
<section id="key-components-of-oidc" class="level2">
<h2 data-anchor-id="key-components-of-oidc">3. Key Components of OIDC</h2>
<p>OIDC introduces several key components: 1. <strong>ID Token</strong>: A JWT that contains information about the authenticated user. 2. <strong>UserInfo Endpoint</strong>: A RESTful endpoint that returns claims about the user. 3. <strong>Discovery Endpoint</strong>: Provides metadata about the OIDC provider. 4. <strong>Dynamic Client Registration</strong>: Allows clients to register with the OIDC provider dynamically.</p>
<pre class="mermaid"><code>graph TD
    A[OpenID Connect] --&gt; B[ID Token]
    A --&gt; C[UserInfo Endpoint]
    A --&gt; D[Discovery Endpoint]
    A --&gt; E[Dynamic Client Registration]</code></pre>
<hr>
</section>
<section id="oidc-workflow" class="level2">
<h2 data-anchor-id="oidc-workflow">4. OIDC Workflow</h2>
<p>The OIDC workflow involves the following steps: 1. The <strong>Client</strong> redirects the user to the <strong>Authorization Server</strong> for authentication. 2. The user authenticates and grants consent. 3. The <strong>Authorization Server</strong> issues an <strong>ID Token</strong> and optionally an <strong>Access Token</strong>. 4. The <strong>Client</strong> can use the <strong>Access Token</strong> to call the <strong>UserInfo Endpoint</strong> for additional user information.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant User
    participant Client
    participant AuthorizationServer

    User-&gt;&gt;Client: Requests Access
    Client-&gt;&gt;AuthorizationServer: Redirects User for Authentication
    AuthorizationServer-&gt;&gt;User: Prompts for Login
    User-&gt;&gt;AuthorizationServer: Authenticates and Grants Consent
    AuthorizationServer-&gt;&gt;Client: Redirects with ID Token (and Access Token)
    Client-&gt;&gt;AuthorizationServer: Requests UserInfo (optional)
    AuthorizationServer-&gt;&gt;Client: Returns UserInfo</code></pre>
<hr>
</section>
<section id="id-tokens-and-userinfo-endpoint" class="level2">
<h2 data-anchor-id="id-tokens-and-userinfo-endpoint">5. ID Tokens and UserInfo Endpoint</h2>
<section id="id-token" class="level3">
<h3 data-anchor-id="id-token">ID Token</h3>
<p>The ID Token is a JWT that contains claims about the authenticated user. Example claims include: - <code>sub</code> (subject): A unique identifier for the user. - <code>iss</code> (issuer): The URL of the authorization server. - <code>aud</code> (audience): The client ID of the application. - <code>exp</code> (expiration): The expiration time of the token.</p>
<pre class="mermaid"><code>graph TD
    A[ID Token] --&gt; B[Header]
    A --&gt; C[Payload]
    A --&gt; D[Signature]
    C --&gt; E[Claims: sub, iss, aud, exp, etc.]</code></pre>
</section>
<section id="userinfo-endpoint" class="level3">
<h3 data-anchor-id="userinfo-endpoint">UserInfo Endpoint</h3>
<p>The UserInfo endpoint is a RESTful API that returns additional claims about the user. The client accesses it using the <strong>Access Token</strong>.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant Client
    participant AuthorizationServer

    Client-&gt;&gt;AuthorizationServer: Requests UserInfo with Access Token
    AuthorizationServer-&gt;&gt;Client: Returns UserInfo (e.g., name, email, profile)</code></pre>
<hr>
</section>
</section>
<section id="oidc-flows" class="level2">
<h2 data-anchor-id="oidc-flows">6. OIDC Flows</h2>
<p>OIDC supports multiple flows to accommodate different types of clients and use cases.</p>
<section id="a.-authorization-code-flow" class="level3">
<h3 data-anchor-id="a.-authorization-code-flow">a. Authorization Code Flow</h3>
<p>This is the most secure and widely used flow. It involves two steps: 1. The client obtains an <strong>Authorization Code</strong>. 2. The client exchanges the code for an <strong>ID Token</strong> and <strong>Access Token</strong>.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant User
    participant Client
    participant AuthorizationServer

    User-&gt;&gt;Client: Requests Access
    Client-&gt;&gt;AuthorizationServer: Redirects User for Authentication
    AuthorizationServer-&gt;&gt;User: Prompts for Login
    User-&gt;&gt;AuthorizationServer: Authenticates and Grants Consent
    AuthorizationServer-&gt;&gt;Client: Redirects with Authorization Code
    Client-&gt;&gt;AuthorizationServer: Exchanges Code for ID Token and Access Token
    AuthorizationServer-&gt;&gt;Client: Issues ID Token and Access Token</code></pre>
</section>
<section id="b.-implicit-flow" class="level3">
<h3 data-anchor-id="b.-implicit-flow">b. Implicit Flow</h3>
<p>This flow is designed for browser-based applications. It directly returns the <strong>ID Token</strong> and optionally the <strong>Access Token</strong> without the intermediate authorization code step.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant User
    participant Client
    participant AuthorizationServer

    User-&gt;&gt;Client: Requests Access
    Client-&gt;&gt;AuthorizationServer: Redirects User for Authentication
    AuthorizationServer-&gt;&gt;User: Prompts for Login
    User-&gt;&gt;AuthorizationServer: Authenticates and Grants Consent
    AuthorizationServer-&gt;&gt;Client: Redirects with ID Token (and Access Token)</code></pre>
</section>
<section id="c.-hybrid-flow" class="level3">
<h3 data-anchor-id="c.-hybrid-flow">c.&nbsp;Hybrid Flow</h3>
<p>This flow combines elements of the Authorization Code and Implicit flows. It returns an <strong>ID Token</strong> and an <strong>Authorization Code</strong> in the initial response.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant User
    participant Client
    participant AuthorizationServer

    User-&gt;&gt;Client: Requests Access
    Client-&gt;&gt;AuthorizationServer: Redirects User for Authentication
    AuthorizationServer-&gt;&gt;User: Prompts for Login
    User-&gt;&gt;AuthorizationServer: Authenticates and Grants Consent
    AuthorizationServer-&gt;&gt;Client: Redirects with ID Token and Authorization Code
    Client-&gt;&gt;AuthorizationServer: Exchanges Code for Access Token
    AuthorizationServer-&gt;&gt;Client: Issues Access Token</code></pre>
<hr>
</section>
</section>
<section id="oidc-security-best-practices" class="level2">
<h2 data-anchor-id="oidc-security-best-practices">7. OIDC Security Best Practices</h2>
<p>To ensure the security of OIDC implementations: - Use HTTPS for all communication. - Validate the <code>iss</code> and <code>aud</code> claims in the ID Token. - Use short-lived ID Tokens and refresh tokens. - Implement PKCE (Proof Key for Code Exchange) for public clients. - Regularly rotate client secrets.</p>
<hr>
</section>
<section id="conclusion" class="level2">
<h2 data-anchor-id="conclusion">8. Conclusion</h2>
<p>OpenID Connect (OIDC) is a powerful and flexible protocol for user authentication and Single Sign-On (SSO). By building on top of OAuth 2.0, it provides a standardized way to authenticate users and retrieve their profile information. The Mermaid diagrams in this post should help you visualize the key concepts and workflows of OIDC.</p>
<p>Whether you’re building a new application or integrating with third-party services, OIDC is an essential tool for secure and seamless user authentication. Happy coding!</p>


</section>

</main> <!-- /main -->
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2025, Muthukrishnan</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>