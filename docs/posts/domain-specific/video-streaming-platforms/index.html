<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Video Streaming Platforms – System Design Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-5c1aa57916d092647891b8a3fe59897e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark-ee5e052b81fc94e1f9bb89611f476562.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="mermaid-theme" content="neutral">
<script src="../../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


<link rel="stylesheet" href="../../../styles.css">
<meta property="og:title" content="Video Streaming Platforms – System Design Notes">
<meta property="og:description" content="">
<meta property="og:site_name" content="System Design Notes">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">System Design Notes</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/muthuspark"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/krimuthu"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Video Streaming Platforms</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Domain-Specific</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Video streaming has revolutionized how we consume entertainment, news, and education. From Netflix binges to YouTube tutorials, streaming platforms have become an essential part of our daily lives. But what makes these platforms tick? This post goes into the architecture, technology, and business models behind the success of video streaming giants and smaller players alike.</p>
<section id="the-architecture-of-a-video-streaming-platform" class="level2">
<h2 data-anchor-id="the-architecture-of-a-video-streaming-platform">The Architecture of a Video Streaming Platform</h2>
<p>A typical video streaming platform comprises several interconnected components working in harmony. Let’s visualize this with a Diagram:</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph LR
    subgraph Client
        A[User/Client]
        VP[Video Player]
    end

    subgraph Frontend
        CDN[Content Delivery Network]
        VE[Video Encoder]
    end

    subgraph Backend Services
        Auth[Authentication Service]
        CMS[Content Management]
        RE[Recommendation Engine]
        PG[Payment Gateway]
        AS[Analytics Service]
    end

    subgraph Databases
        DB[(Main Database)]
        Cache[(Redis Cache)]
        ES[(Elasticsearch)]
    end

    A --&gt; Auth
    A --&gt; VP
    VP --&gt; CDN
    CDN --&gt; VE
    Auth --&gt; DB
    
    CMS --&gt; CDN
    CMS --&gt; DB
    
    RE --&gt; DB
    RE --&gt; ES
    RE --&gt; Cache
    
    PG --&gt; DB
    
    AS --&gt; DB
    AS --&gt; ES
    
    VP --&gt; AS
    
    classDef client fill:#e1f5fe,stroke:#01579b
    classDef frontend fill:#fff3e0,stroke:#ef6c00
    classDef backend fill:#f3e5f5,stroke:#7b1fa2
    classDef database fill:#e8f5e9,stroke:#2e7d32
    
    class A,VP client
    class CDN,VE frontend
    class Auth,CMS,RE,PG,AS backend
    class DB,Cache,ES database
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<section id="client-layer" class="level4">
<h4 data-anchor-id="client-layer">Client Layer</h4>
<ul>
<li>User/Client:
<ul>
<li>Web browsers or mobile apps where users interact with the service</li>
<li>Handles user interface and initial video requests</li>
<li>Manages user sessions and local caching</li>
</ul></li>
<li>Video Player:
<ul>
<li>Adaptive bitrate streaming support (HLS/DASH)</li>
<li>Handles video buffering and quality switching</li>
<li>Manages playback controls and user interactions</li>
<li>Collects metrics like buffering events, quality changes, and watch time</li>
</ul></li>
</ul>
</section>
<section id="frontend-layer" class="level4">
<h4 data-anchor-id="frontend-layer">Frontend Layer</h4>
<ul>
<li>Content Delivery Network (CDN):
<ul>
<li>Distributed network of servers for content delivery</li>
<li>Caches video segments close to users’ locations</li>
<li>Reduces latency and improves streaming quality</li>
<li>Handles high-bandwidth video delivery efficiently</li>
</ul></li>
<li>Video Encoder:
<ul>
<li>Processes uploaded videos into multiple quality levels</li>
<li>Creates adaptive bitrate streams (240p, 360p, 720p, 1080p, etc.)</li>
<li>Generates thumbnails and preview segments</li>
<li>Optimizes video formats for different devices</li>
</ul></li>
</ul>
</section>
<section id="backend-services" class="level4">
<h4 data-anchor-id="backend-services">Backend Services</h4>
<ul>
<li>Authentication Service:
<ul>
<li>Manages user authentication and authorization</li>
<li>Handles OAuth and social logins</li>
<li>Issues and validates JWT tokens</li>
<li>Controls access to premium content</li>
<li>Rate limiting and security measures</li>
</ul></li>
<li>Content Management System (CMS):
<ul>
<li>Manages video metadata and organization</li>
<li>Handles video upload processing</li>
<li>Content moderation and filtering</li>
<li>Category and tag management</li>
<li>Content scheduling and publishing</li>
</ul></li>
<li>Recommendation Engine:
<ul>
<li>Personalized content suggestions</li>
<li>Uses machine learning algorithms</li>
<li>Processes user viewing history</li>
<li>Considers user preferences and behavior</li>
<li>Real-time recommendation updates</li>
<li>A/B testing for recommendation strategies</li>
</ul></li>
<li>Payment Gateway:
<ul>
<li>Handles subscription payments</li>
<li>Processes transactions securely</li>
<li>Manages recurring billing</li>
<li>Handles refunds and disputes</li>
<li>Integrates with payment providers</li>
</ul></li>
<li>Analytics Service:
<ul>
<li>Tracks user engagement metrics</li>
<li>Monitors system performance</li>
<li>Generates business insights</li>
<li>Real-time analytics processing</li>
<li>Custom report generation</li>
</ul></li>
</ul>
</section>
<section id="database-layer" class="level4">
<h4 data-anchor-id="database-layer">Database Layer</h4>
<ul>
<li>Main Database (e.g., PostgreSQL):
<ul>
<li>Stores user profiles and authentication data</li>
<li>Manages video metadata</li>
<li>Handles payment and subscription data</li>
<li>Maintains relationship data</li>
<li>Transaction history</li>
</ul></li>
<li>Redis Cache:
<ul>
<li>Caches frequently accessed data</li>
<li>Session management</li>
<li>Rate limiting</li>
<li>Real-time view counts</li>
<li>Temporary data storage</li>
</ul></li>
<li>Elasticsearch:
<ul>
<li>Powers search functionality</li>
<li>Stores analytics data</li>
<li>Enables complex queries</li>
<li>Supports recommendation engine</li>
<li>Full-text search capabilities</li>
</ul></li>
</ul>
<p>Key Flows in the Architecture:</p>
<ol type="1">
<li>Video Playback Flow:</li>
</ol>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">sequenceDiagram
    %% Video Playback Flow
    participant U as User
    participant VP as Video Player
    participant CDN
    participant VE as Video Encoder

    rect rgb(240, 240, 240)
    Note over U,VE: Video Playback Flow
    U-&gt;&gt;VP: Request video
    VP-&gt;&gt;CDN: Request video stream
    CDN--&gt;&gt;VP: Stream video
    VP--&gt;&gt;U: Display video
    
    alt Quality switch needed
        VP-&gt;&gt;CDN: Request different quality
        CDN-&gt;&gt;VE: Generate quality variant
        VE--&gt;&gt;CDN: Return new stream
        CDN--&gt;&gt;VP: Stream new quality
        VP--&gt;&gt;U: Display new quality
    end
    end
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ol start="2" type="1">
<li>Authentication Flow:</li>
</ol>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">sequenceDiagram
    participant AS as Auth Service
    participant DB as Database
    participant RC as Redis Cache

    rect rgb(245, 240, 245)
    Note over U,RC: Authentication Flow
    U-&gt;&gt;AS: Login request
    AS-&gt;&gt;DB: Validate credentials
    DB--&gt;&gt;AS: User data
    AS-&gt;&gt;RC: Store session
    RC--&gt;&gt;AS: Confirm storage
    AS--&gt;&gt;U: Return auth token
    end
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ol start="3" type="1">
<li>Content Discovery Flow:</li>
</ol>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">sequenceDiagram
    participant RE as Recommendation Engine
    participant ES as Elasticsearch

    rect rgb(240, 245, 240)
    Note over U,CDN: Content Discovery Flow
    U-&gt;&gt;RE: Request recommendations
    RE-&gt;&gt;ES: Query user preferences
    ES--&gt;&gt;RE: Return preferences
    RE-&gt;&gt;RC: Get recent activity
    RC--&gt;&gt;RE: Return activity
    RE--&gt;&gt;U: Show recommendations
    U-&gt;&gt;CDN: Request recommended content
    CDN--&gt;&gt;U: Stream content
    end

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ol start="4" type="1">
<li>Analytics Flow:</li>
</ol>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">sequenceDiagram
    participant ANA as Analytics Service
    rect rgb(245, 245, 240)
    Note over VP,RE: Analytics Flow
    VP-&gt;&gt;ANA: Send viewing data
    ANA-&gt;&gt;ES: Store analytics
    ES--&gt;&gt;ANA: Confirm storage
    ANA-&gt;&gt;RE: Update user profile
    RE-&gt;&gt;ES: Update preferences
    ES--&gt;&gt;RE: Confirm update
    end
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>System Features:</p>
<ul>
<li>Scalability:
<ul>
<li>Horizontal scaling of services</li>
<li>CDN distribution</li>
<li>Caching layers</li>
<li>Load balancing</li>
</ul></li>
<li>Reliability:
<ul>
<li>Service redundancy</li>
<li>Data replication</li>
<li>Error handling</li>
<li>Failover mechanisms</li>
</ul></li>
<li>Performance:
<ul>
<li>CDN for content delivery</li>
<li>Caching strategies</li>
<li>Optimized video encoding</li>
<li>Database indexing</li>
</ul></li>
<li>Security:
<ul>
<li>Authentication/Authorization</li>
<li>Content protection</li>
<li>Secure payments</li>
<li>DDoS protection</li>
</ul></li>
<li>Monitoring:
<ul>
<li>System metrics</li>
<li>User analytics</li>
<li>Performance monitoring</li>
<li>Error tracking</li>
</ul></li>
</ul>
</section>
</section>
<section id="encoding-and-transcoding-preparing-video-for-streaming" class="level2">
<h2 data-anchor-id="encoding-and-transcoding-preparing-video-for-streaming">Encoding and Transcoding: Preparing Video for Streaming</h2>
<p>Before video can be streamed, it needs to be encoded into various formats and bitrates to accommodate different devices and network conditions. This process is called transcoding.</p>
<p>A simple Python script (conceptual) illustrating the idea:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> transcode_video(input_file, output_formats):</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="bu">format</span> <span class="kw">in</span> output_formats:</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># In a real scenario, you would use a library like ffmpeg</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Transcoding </span><span class="sc">{</span>input_file<span class="sc">}</span><span class="ss"> to </span><span class="sc">{</span><span class="bu">format</span><span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># ... actual transcoding logic using ffmpeg or similar ...</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>input_video <span class="op">=</span> <span class="st">"my_video.mp4"</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>output_formats <span class="op">=</span> [<span class="st">"720p.mp4"</span>, <span class="st">"480p.mp4"</span>, <span class="st">"360p.mp4"</span>]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>transcode_video(input_video, output_formats)</span></code></pre></div>
<p>This allows the platform to dynamically adjust the quality of the stream based on the user’s internet connection, ensuring a smooth viewing experience.</p>
</section>
<section id="monetization-strategies-how-streaming-platforms-make-money" class="level2">
<h2 data-anchor-id="monetization-strategies-how-streaming-platforms-make-money">Monetization Strategies: How Streaming Platforms Make Money</h2>
<p>Video streaming platforms employ various monetization strategies:</p>
<ul>
<li><strong>Subscription Models (SVOD):</strong> Users pay a recurring fee for access to a library of content (e.g., Netflix, Hulu).</li>
<li><strong>Advertising-Supported Models (AVOD):</strong> Users can watch content for free, supported by advertising revenue (e.g., YouTube, Pluto TV).</li>
<li><strong>Transactional Video-on-Demand (TVOD):</strong> Users pay a one-time fee to rent or buy individual videos (e.g., Apple TV, Amazon Prime Video).</li>
<li><strong>Hybrid Models:</strong> Many platforms combine multiple models, offering both subscription and ad-supported options (e.g., Hulu).</li>
</ul>
</section>
<section id="challenges-and-future-trends" class="level2">
<h2 data-anchor-id="challenges-and-future-trends">Challenges and Future Trends</h2>
<p>The video streaming industry faces ongoing challenges, including:</p>
<ul>
<li><strong>Content Acquisition Costs:</strong> Securing high-quality content can be expensive.</li>
<li><strong>Competition:</strong> The market is incredibly competitive, with numerous established and emerging players.</li>
<li><strong>Bandwidth Management:</strong> Handling peak demand and ensuring consistent performance requires significant infrastructure investment.</li>
<li><strong>Piracy:</strong> Illegal downloading and streaming remains a significant threat.</li>
</ul>
<p>The future of video streaming likely involves:</p>
<ul>
<li><strong>Increased personalization:</strong> More tailored recommendations and content experiences.</li>
<li><strong>Immersive technologies:</strong> Integration of VR/AR for enhanced viewing experiences.</li>
<li><strong>AI-powered features:</strong> Advanced content moderation, automated subtitles, and intelligent search.</li>
<li><strong>Edge computing:</strong> Processing closer to users for improved latency and scalability.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/system-design\.muthu\.co\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2025, Muthukrishnan</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>