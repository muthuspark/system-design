<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Graph Database Design – System Design Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-5c1aa57916d092647891b8a3fe59897e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark-ee5e052b81fc94e1f9bb89611f476562.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="mermaid-theme" content="neutral">
<script src="../../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


<link rel="stylesheet" href="../../../styles.css">
<meta property="og:title" content="Graph Database Design – System Design Notes">
<meta property="og:description" content="">
<meta property="og:site_name" content="System Design Notes">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">System Design Notes</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/muthuspark"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/krimuthu"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Graph Database Design</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Data Management</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Graph databases are becoming increasingly popular for applications requiring complex relationships between data. Unlike relational databases which rely on tables and joins, graph databases represent data as nodes and edges, making it highly efficient to query and traverse relationships. However, designing an effective graph database schema requires careful consideration of various factors. This post will look at the key aspects of graph database design, providing practical examples and best practices.</p>
<section id="understanding-the-fundamentals" class="level2">
<h2 data-anchor-id="understanding-the-fundamentals">Understanding the Fundamentals</h2>
<p>Before diving into design specifics, let’s review the fundamental components of a graph database:</p>
<ul>
<li><p><strong>Nodes:</strong> Represent entities or objects in your data model. Think of them as the “things” in your system. For example, in a social network, nodes could represent users.</p></li>
<li><p><strong>Edges:</strong> Represent relationships between nodes. They connect nodes and contain properties describing the relationship. In our social network example, an edge could represent a “friendship” between two users.</p></li>
<li><p><strong>Properties:</strong> Attributes associated with both nodes and edges, providing additional information. In our example, user nodes might have properties like <code>name</code>, <code>age</code>, and <code>location</code>, while a friendship edge might have a <code>since</code> property indicating when the friendship started.</p></li>
</ul>
</section>
<section id="designing-your-graph-schema-a-step-by-step-guide" class="level2">
<h2 data-anchor-id="designing-your-graph-schema-a-step-by-step-guide">Designing Your Graph Schema: A Step-by-Step Guide</h2>
<p>Designing a robust graph schema is important for performance and maintainability. Here’s a structured approach:</p>
<p><strong>1. Identify Entities and Relationships:</strong></p>
<p>Start by identifying the key entities in your domain. What are the core objects or concepts you need to represent? Then, determine the relationships between these entities. Are they one-to-one, one-to-many, or many-to-many?</p>
<p><strong>Example: Social Network</strong></p>
<p>Let’s consider a simplified social network. Our core entities are <code>Users</code> and <code>Posts</code>. The relationships include:</p>
<ul>
<li>A user can create many posts (<code>User</code> 1:N <code>Post</code>).</li>
<li>A user can follow many other users (<code>User</code> N:M <code>User</code>).</li>
<li>A post can have many comments (<code>Post</code> 1:N <code>Comment</code>).</li>
</ul>
<p><strong>2. Choose a Graph Model:</strong></p>
<p>Several graph models exist, each with its strengths and weaknesses:</p>
<ul>
<li><strong>Property Graph:</strong> The most common model, where nodes and edges have properties. This is the model used by Neo4j and Amazon Neptune.</li>
<li><strong>RDF (Resource Description Framework):</strong> A standardized model used in the semantic web, focusing on triples (subject, predicate, object).</li>
</ul>
<p>For most use cases, the property graph model is a good starting point due to its flexibility and wide adoption.</p>
<p><strong>3. Define Node and Edge Labels:</strong></p>
<p>Assign clear and concise labels to your nodes and edges, reflecting their meaning in your data model. Avoid ambiguity and strive for consistency.</p>
<p><strong>Example (Property Graph):</strong></p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD
    Alice[("User&lt;br/&gt;name: Alice&lt;br/&gt;age: 30")]
    Bob[("User&lt;br/&gt;name: Bob&lt;br/&gt;age: 25")]
    Post[("Post&lt;br/&gt;content: Hello World!")]
    Comment[("Comment&lt;br/&gt;text: Great post!")]
    
    Alice --&gt;|POSTED| Post
    Alice --&gt;|FOLLOWS| Bob
    Bob --&gt;|LIKED| Post
    Bob --&gt;|WROTE| Comment
    Comment --&gt;|ON| Post
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>The graph represents a simple social network database structure with four key nodes:</p>
<ol type="1">
<li>Two User nodes (Alice and Bob) with properties for name and age</li>
<li>A Post node containing content “Hello World!”</li>
<li>A Comment node with the text “Great post!”</li>
</ol>
<p>The relationships between these nodes show: - Alice POSTED the “Hello World!” post - Alice FOLLOWS Bob - Bob LIKED the post - Bob WROTE a comment - The comment is linked to the post via an ON relationship</p>
<p>The graph uses circles (depicted by double parentheses in Mermaid) to represent nodes, with arrows showing directed relationships between them, similar to how a graph database like Neo4j would store this social network data.</p>
<p><strong>4. Model Relationships Carefully:</strong></p>
<p>Consider the directionality of your relationships. Is the relationship unidirectional (e.g., “follows”) or bidirectional (e.g., “friends with”)? This impacts query performance and data consistency. Bidirectional relationships are often represented with two separate edges in a property graph.</p>
<p><strong>5. Consider Data Partitioning and Indexing:</strong></p>
<p>For large graphs, partitioning your data across multiple servers is essential for scalability. Appropriate indexing strategies are also important for efficient query performance. This often involves creating indexes on frequently queried properties.</p>
<p><strong>Example: Modeling a Knowledge Graph</strong></p>
<p>Let’s design a knowledge graph for a movie database. Entities include <code>Movies</code>, <code>Actors</code>, and <code>Directors</code>.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD
    Matrix[("Movie&lt;br/&gt;title: The Matrix&lt;br/&gt;year: 1999&lt;br/&gt;genre: Sci-Fi&lt;br/&gt;rating: 8.7")]
    Speed[("Movie&lt;br/&gt;title: Speed&lt;br/&gt;year: 1994&lt;br/&gt;genre: Action&lt;br/&gt;rating: 7.2")]
    
    Keanu[("Actor&lt;br/&gt;name: Keanu Reeves&lt;br/&gt;born: 1964&lt;br/&gt;nationality: Canadian")]
    Carrie[("Actor&lt;br/&gt;name: Carrie-Anne Moss&lt;br/&gt;born: 1967&lt;br/&gt;nationality: Canadian")]
    
    Lana[("Director&lt;br/&gt;name: Lana Wachowski&lt;br/&gt;born: 1965&lt;br/&gt;awards: Academy Award")]
    Jan[("Director&lt;br/&gt;name: Jan de Bont&lt;br/&gt;born: 1943&lt;br/&gt;nationality: Dutch")]
    
    Keanu --&gt;|ACTED_IN| Matrix
    Keanu --&gt;|ACTED_IN| Speed
    Carrie --&gt;|ACTED_IN| Matrix
    
    Lana --&gt;|DIRECTED| Matrix
    Jan --&gt;|DIRECTED| Speed
    
    Matrix --&gt;|RELEASED| 1999
    Speed --&gt;|RELEASED| 1994
    
    Matrix --&gt;|GENRE| SciFi["Genre: Sci-Fi"]
    Speed --&gt;|GENRE| Action["Genre: Action"]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>The graph shows:</p>
<ol type="1">
<li>Nodes:</li>
</ol>
<ul>
<li>Movies: Added genre and rating properties</li>
<li>Actors: Added birth year and nationality</li>
<li>Directors: Added biographical details and awards</li>
</ul>
<ol start="2" type="1">
<li>Relationships:</li>
</ol>
<ul>
<li><code>ACTED_IN</code>: Connects actors to movies</li>
<li><code>DIRECTED</code>: Links directors to their films</li>
<li><code>RELEASED</code>: Shows movie release years</li>
<li><code>GENRE</code>: Categorizes movies</li>
</ul>
<ol start="3" type="1">
<li>Additional features:</li>
</ol>
<ul>
<li>Clear node separation by type (Movies, Actors, Directors)</li>
<li>Temporal relationships through release years</li>
<li>Genre classification</li>
<li>Hierarchical layout for better readability</li>
</ul>
<p><strong>6. Iterate and Refine:</strong></p>
<p>Graph database design is an iterative process. As you develop your application, you might need to adjust your schema to accommodate new requirements or optimize performance.</p>
</section>
<section id="neo4j-building-your-first-graph-database" class="level2">
<h2 data-anchor-id="neo4j-building-your-first-graph-database">Neo4j: Building Your First Graph Database</h2>
<p>Neo4j, a leading graph database platform, uses Cypher as its query language to create and manipulate graph structures. This guide walks through essential concepts and practical examples.</p>
<section id="core-concepts" class="level3">
<h3 data-anchor-id="core-concepts">Core Concepts</h3>
<section id="nodes-and-properties" class="level4">
<h4 data-anchor-id="nodes-and-properties">Nodes and Properties</h4>
<p>Nodes represent entities in your graph. In Neo4j, nodes can have labels (types) and properties:</p>
<pre class="cypher"><code>CREATE (john:Person {name: 'John Doe', age: 30})</code></pre>
<p>This creates a node labeled ‘Person’ with name and age properties.</p>
</section>
<section id="relationships" class="level4">
<h4 data-anchor-id="relationships">Relationships</h4>
<p>Relationships connect nodes and can carry properties. They’re always directed and typed:</p>
<pre class="cypher"><code>MATCH (john:Person {name: 'John Doe'})
MATCH (post:Post)
CREATE (john)-[:POSTED]-&gt;(post)</code></pre>
</section>
</section>
<section id="building-your-first-social-graph" class="level3">
<h3 data-anchor-id="building-your-first-social-graph">Building Your First Social Graph</h3>
<p>Let’s build a simple social network with users, posts, and interactions.</p>
<section id="creating-the-graph-structure" class="level4">
<h4 data-anchor-id="creating-the-graph-structure">1. Creating the Graph Structure</h4>
<p>First, create user nodes:</p>
<pre class="cypher"><code>CREATE (john:Person {name: 'John Doe', age: 30})
CREATE (jane:Person {name: 'Jane Smith', age: 28})</code></pre>
<p>Add a post:</p>
<pre class="cypher"><code>CREATE (post:Post {
    content: 'Hello Graph World!',
    timestamp: datetime()
})</code></pre>
</section>
<section id="establishing-relationships" class="level4">
<h4 data-anchor-id="establishing-relationships">2. Establishing Relationships</h4>
<p>Connect users and content:</p>
<pre class="cypher"><code>MATCH (john:Person {name: 'John Doe'})
MATCH (jane:Person {name: 'Jane Smith'})
MATCH (post:Post)
CREATE (john)-[:POSTED]-&gt;(post)
CREATE (jane)-[:LIKED]-&gt;(post)
CREATE (john)-[:FOLLOWS]-&gt;(jane)</code></pre>
</section>
<section id="querying-the-graph" class="level4">
<h4 data-anchor-id="querying-the-graph">3. Querying the Graph</h4>
<p>Find John’s posts:</p>
<pre class="cypher"><code>MATCH (p:Person {name: 'John Doe'})-[:POSTED]-&gt;(post:Post)
RETURN p.name as Author, post.content as Content</code></pre>
<p>Find who liked John’s posts:</p>
<pre class="cypher"><code>MATCH (liker:Person)-[:LIKED]-&gt;(:Post)&lt;-[:POSTED]-(poster:Person {name: 'John Doe'})
RETURN liker.name as Liker, poster.name as Poster</code></pre>
</section>
</section>
<section id="performance-optimization" class="level3">
<h3 data-anchor-id="performance-optimization">Performance Optimization</h3>
<section id="indexing" class="level4">
<h4 data-anchor-id="indexing">Indexing</h4>
<p>Create indexes for frequently queried properties:</p>
<pre class="cypher"><code>CREATE INDEX person_name FOR (p:Person) ON (p.name)</code></pre>
</section>
<section id="constraints" class="level4">
<h4 data-anchor-id="constraints">Constraints</h4>
<p>Ensure data integrity with constraints:</p>
<pre class="cypher"><code>CREATE CONSTRAINT person_name_unique 
FOR (p:Person) REQUIRE p.name IS UNIQUE</code></pre>
</section>
</section>
<section id="best-practices" class="level3">
<h3 data-anchor-id="best-practices">Best Practices</h3>
<ol type="1">
<li><strong>Model Around Questions</strong>: Design your graph structure based on the questions you need to answer.</li>
<li><strong>Use Meaningful Labels</strong>: Choose descriptive names for node labels and relationship types.</li>
<li><strong>Property Placement</strong>: Store properties on nodes unless they’re specific to relationships.</li>
<li><strong>Indexing Strategy</strong>: Index properties used in WHERE clauses and relationship lookups.</li>
</ol>
</section>
<section id="common-patterns" class="level3">
<h3 data-anchor-id="common-patterns">Common Patterns</h3>
<section id="friend-of-friend-queries" class="level4">
<h4 data-anchor-id="friend-of-friend-queries">Friend-of-Friend Queries</h4>
<p>Find mutual connections:</p>
<pre class="cypher"><code>MATCH (p1:Person)-[:FOLLOWS]-&gt;(p2:Person)-[:FOLLOWS]-&gt;(p3:Person)
WHERE p1.name = 'John Doe' AND p1 &lt;&gt; p3
RETURN DISTINCT p3.name as FriendOfFriend</code></pre>
</section>
<section id="aggregation" class="level4">
<h4 data-anchor-id="aggregation">Aggregation</h4>
<p>Count interactions per user:</p>
<pre class="cypher"><code>MATCH (p:Person)-[:POSTED]-&gt;(post:Post)&lt;-[:LIKED]-(liker:Person)
RETURN p.name as Poster,
       count(DISTINCT post) as PostCount,
       collect(DISTINCT liker.name) as Likers
ORDER BY PostCount DESC</code></pre>
<p>Neo4j’s graph database provides a powerful way to model and query connected data. The Cypher query language offers an intuitive syntax for graph operations, making it accessible for developers familiar with SQL. As you build more complex applications, look at Neo4j’s rich ecosystem of tools and libraries for visualization, analysis, and integration.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/system-design\.muthu\.co\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2025, Muthukrishnan</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>